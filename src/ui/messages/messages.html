<style scoped>
.favorited {
    color: yellow;
}
</style>

<md-content>
    <loader ng-if="!conversations"></loader>
    <md-list flex="50" flex-offset="25">
        <md-list-item>
            <p translate>MESSAGES.FAVORITES_ONLY</p><md-switch ng-model="hide_nonfavs"></md-switch>
        </md-list-item>
        <md-list-item ng-repeat="conversation in conversations" class="md-2-line" ng-click="openConversation(conversation)" ng-hide="hide_nonfavs && !conversation.favorite"
            ng-mouseenter="hover_id = conversation.id" ng-mouseleave="hover_id = -1">
            <img ng-src="{{getImage(conversation.image)}}" class="md-avatar" />
            <div class="md-list-item-text">
                <h3>{{conversation.topic}}
                    <i class="fa fa-star" ng-class="{ 'favorited': conversation.favorite }" ng-if="conversation.favorite || conversation.id == hover_id" ng-click="toggleFavorite(conversation, $event)"></i>
                </h3>
                <p>{{ 'MESSAGES.LAST_MESSAGE' | translate }}: {{conversation.timestamp_end * 1000 | date}}</p>
            </div>
            <md-divider ng-if="!$last"></md-divider>
        </md-list-item>
    </md-list>
</md-content>
